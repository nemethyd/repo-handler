# myrepo.cfg - Configuration file for myrepo.sh v2.2.7
# Optimized configuration for high-performance repository management
# The default values are given below, commented out.
# To configure, uncomment the desired lines and change the values.

# === DIRECTORY CONFIGURATION ===
# All directory paths must exist and be writable by the user running the script.

# Set the local repository path (base directory containing the repository tree)
# LOCAL_REPO_PATH="/repo"
# IMPORTANT: This directory and all its subdirectories must be writable.

# Set the shared repository path  
# SHARED_REPO_PATH="/mnt/hgfs/ForVMware/ol9_repos"
# IMPORTANT: This directory must be writable for repository synchronization.

# Define manual repositories (comma-separated)
# MANUAL_REPOS="ol9_edge"
# These are individual repositories within the LOCAL_REPO_PATH tree.

# Define local RPM source directories (comma-separated)
# LOCAL_RPM_SOURCES="/home/nemethy/rpmbuild/RPMS,/var/cache/dnf,/var/cache/yum,/tmp"
# These directories will be searched for locally built or cached RPM packages
# Useful for including packages from rpmbuild, custom builds, or cached downloads
# The script will search these locations before attempting to download packages
# 
# Common locations to include:
# - ~/rpmbuild/RPMS (your local builds)
# - /var/cache/dnf (DNF cached packages)  
# - /var/cache/yum (legacy YUM cache)
# - /tmp (temporary RPM files)
# - Custom build directories

# === DEBUG AND LOGGING ===

# Set verbosity level (0=critical, 1=important, 2=normal, 3=verbose)
# DEBUG_LEVEL=1

# === PROCESSING CONFIGURATION ===

# Set maximum number of packages to process (0 = no limit)
# MAX_PACKAGES=0

# Set maximum number of new packages to download (-1 = no limit, 0 = none)  
# MAX_NEW_PACKAGES=-1

# Set the number of parallel processes (optimized default: 6)
# PARALLEL=6

# Enable dry run mode (1 = enabled, 0 = disabled)
# DRY_RUN=0

# Enforce full rebuild (1 = enabled, 0 = disabled)
# This will remove all packages in the local repository before rebuilding
# FULL_REBUILD=0

# === REPOSITORY FILTERING ===

# Define excluded repositories (comma-separated)
# These repositories will be ignored during processing
# EXCLUDE_REPOS=""

# === CACHE AND PERFORMANCE CONFIGURATION ===

# Cache validity in seconds (default: 14400 = 4 hours)
# Controls how long repository metadata cache remains valid
# CACHE_MAX_AGE=14400

# Shared cache directory path (default: /var/cache/myrepo)
# SHARED_CACHE_PATH="/var/cache/myrepo"

# Enable cleanup of uninstalled packages (1 = enabled, 0 = disabled)
# When enabled, packages that are no longer installed will be removed from local repositories
# CLEANUP_UNINSTALLED=1

# Enable parallel compression for createrepo (1 = enabled, 0 = disabled)
# When enabled, uses multiple workers for faster repository metadata creation
# USE_PARALLEL_COMPRESSION=1

# === ADVANCED OPTIONS ===

# Force refresh of DNF metadata cache and rebuild repository cache (1 = enabled, 0 = disabled)
# REFRESH_METADATA=0

# Use serial DNF mode to prevent database lock contention (1 = enabled, 0 = disabled)
# Enable this if you experience DNF database locking issues
# DNF_SERIAL=0

# Automatic privilege detection (1 = auto-detect, 0 = never use sudo)
# The script automatically detects execution context:
# - When running as user (EUID!=0): Uses 'sudo dnf' automatically
# - When running as root (EUID=0): Uses 'dnf' directly
# Override with 0 only if you want to disable automatic sudo (advanced use only)
# ELEVATE_COMMANDS=1

# === TIMEOUT CONFIGURATION ===

# Timeout for basic DNF queries (in seconds)
# DNF_QUERY_TIMEOUT=60

# Timeout for DNF cache building operations (in seconds)  
# DNF_CACHE_TIMEOUT=120

# Timeout for sudo test commands (in seconds)
# SUDO_TEST_TIMEOUT=10

# === PERFORMANCE TUNING ===

# Batch size for processing RPMs during cleanup operations (default: 50)
# BATCH_SIZE=50

# Report progress every N packages (default: 50)
# PROGRESS_REPORT_INTERVAL=50

# Maximum lines to read from config file (security limit)
# CONFIG_FILE_MAX_LINES=500

# DNF parallel downloads (default: 8)
# MAX_PARALLEL_DOWNLOADS=8

# DNF retry attempts (default: 2)
# DNF_RETRIES=2

# === REMOVED IN v2.2.7 ===
# The following options from previous versions are no longer supported:
# - SET_PERMISSIONS (permission handling is now automatic)
# - LOG_DIR (logging is now to stderr, no file logging)
# - EXCLUDED_REPOS (renamed to EXCLUDE_REPOS for consistency)
# - RPMBUILD_PATH (use LOCAL_RPM_SOURCES array instead)
# - ADAPTIVE_TUNING and related adaptive performance settings (simplified to fixed optimal values)
# - CONTINUE_ON_ERROR (error handling is now consistent)
# - Complex cache settings like CACHE_MAX_AGE_HOURS, NIGHT_START_HOUR, etc. (simplified to CACHE_MAX_AGE)
# - Repository compression settings (now use optimal defaults)
# - AUTO_UPDATE_MANUAL_REPOS (now always enabled)
# - LOCAL_REPO_CHECK_METHOD (optimized for performance)
# - Performance tuning variables (replaced with optimal fixed settings)
# - GROUP_OUTPUT (output is now consistently formatted)
